# ==================================================================
# NEO4J 2026 ENTERPRISE OPTIMIZED CONFIGURATION
# Optimized for: 256GB RAM | 4x NVMe RAID 0 | GDS Arrow
# ==================================================================

# --- DIRECTORIES ---
server.directories.data=/var/lib/neo4j/data
server.directories.plugins=/var/lib/neo4j/plugins
server.directories.logs=/var/log/neo4j
# In 2026, ensure transaction logs are also on the NVMe for speed
server.directories.transaction.logs.root=/var/lib/neo4j/data/transactions

# --- NETWORK ---
server.default_listen_address=0.0.0.0
server.default_advertised_address=INTERNAL_IP_PLACEHOLDER
server.bolt.listen_address=:7687
server.http.listen_address=:7474
# Enable high-speed GDS Arrow (Port 8491)
gds.arrow.enabled=true
gds.arrow.listen_address=0.0.0.0:8491

# --- MEMORY TUNING ---
server.memory.heap.initial_size=31G
server.memory.heap.max_size=31G
server.memory.pagecache.size=120G

# Corrected Warmup Namespace (2026 style)
db.memory.pagecache.warmup.enable=true
db.memory.pagecache.warmup.profile.interval=1m

# --- DATABASE ENGINE & STORAGE ---
db.index_sampling.background_enabled=true

# Optimized for NVMe RAID 0
db.tx_log.rotation.retention_policy=1 days
db.tx_log.rotation.size=256M
db.checkpoint.interval.volume=512M

# --- SECURITY & PLUGINS ---
dbms.security.procedures.unrestricted=gds.*,apoc.*
dbms.security.procedures.allowlist=gds.*,apoc.*
gds.enterprise.license_file=/etc/neo4j/gds.license

# --- JVM ENHANCEMENTS ---
# Tuning for Java 21/25 (Standard in 2026)
server.jvm.additional=-XX:+UseG1GC
server.jvm.additional=-XX:MaxGCPauseMillis=200
server.jvm.additional=-XX:+ParallelRefProcEnabled
server.jvm.additional=-XX:+UnlockDiagnosticVMOptions

